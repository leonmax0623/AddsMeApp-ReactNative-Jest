/*
 * adsme
 * (c) pavit.design, 2020
 */

import React, { Component } from 'react'
import { StyleSheet, View, Text, TouchableOpacity } from 'react-native'

// plug-ins
import { SvgXml } from 'react-native-svg'

// helpers
import { Storage, Screens } from '../../helpers/Index'

// global
import { API } from '../../globals/Сonstants'

// styles
import styles from '../../styles/Styles'

// start
export default class StartLoginScreen extends Component {
	constructor(props) {
		super(props)
		this.state = {
			deviceId:null
		}
	}
	componentDidMount = () => Storage.get('deviceId', (deviceId) => this.setState({deviceId}))
	startShow = () => Screens.resetTo(this.props.navigation, 'Start')
	render() {
		return <View style={styles.wrapper}>
				<View style={s.container}>
					<SvgXml fill={'#007aff'} style={s.icon} xml={'<svg viewBox="0 0 349 574"><path d="M176.54 0C86.4799 0 13.21 73.38 13.21 163.58C13.21 193.12 20.82 224.48 35.83 256.79C47.68 282.29 64.16 308.48 84.83 334.61C119.83 378.91 154.36 407.45 155.83 408.61C161.753 413.237 169.054 415.751 176.57 415.751C184.086 415.751 191.387 413.237 197.31 408.61C198.76 407.42 245.8 361.79 280.82 317.49L266.33 305.49C232.55 348.29 185.74 393.77 185.4 394.04C182.835 395.908 179.743 396.914 176.57 396.914C173.397 396.914 170.305 395.908 167.74 394.04C166.36 392.94 32 281.18 32 163.54C32 83.72 96.85 18.77 176.55 18.77C256.25 18.77 321.1 83.77 321.1 163.54L321.02 164.68C321.02 211.84 307.8 238.89 286.17 238.89C274.31 238.89 254.11 231.89 254.11 212.35V79.92H231.41V115.22C217.11 91.81 192.34 78.53 162.35 78.53C112.81 78.53 75.83 115.91 75.83 168.34C75.83 221.08 112.83 258.8 162.35 258.8C193.04 258.8 218.16 244.8 232.11 220.74C233.52 244.83 259.29 258.8 281.97 258.8C317.9 258.8 339.87 223.87 339.87 164.47V163.54C339.87 73.34 266.6 0 176.54 0ZM165.54 238.59C126.82 238.59 98.91 210.28 98.91 168.38C98.91 126.48 126.82 98.85 165.54 98.85C203.22 98.85 231.82 126.1 231.82 168.38C231.77 211 203.17 238.55 165.49 238.55L165.54 238.59Z" fill="#C1272D"/><path d="M0.530023 546.53C0.516581 542.902 1.19538 539.304 2.53002 535.93C3.78892 532.698 5.68673 529.752 8.11001 527.27C10.5791 524.762 13.5276 522.775 16.78 521.43C20.337 519.966 24.1538 519.238 28 519.29C29.8485 519.282 31.6924 519.473 33.5 519.86C35.1806 520.226 36.8241 520.745 38.41 521.41C39.8866 522.03 41.2971 522.797 42.62 523.7C43.83 524.529 44.9705 525.456 46.03 526.47L46.73 520.83H57.09V572.17H46.71L46.01 566.53C44.9337 567.567 43.7656 568.504 42.52 569.33C39.7578 571.163 36.6734 572.455 33.43 573.14C31.6228 573.53 29.7789 573.725 27.93 573.72C24.0991 573.767 20.2976 573.047 16.75 571.6C13.4995 570.271 10.5556 568.29 8.10003 565.78C5.69007 563.291 3.79396 560.352 2.52001 557.13C1.17969 553.758 0.503962 550.159 0.530023 546.53V546.53ZM12.64 546.53C12.6138 548.853 13.0524 551.159 13.93 553.31C14.7361 555.272 15.9277 557.051 17.4341 558.544C18.9405 560.037 20.7312 561.212 22.7 562C26.8117 563.626 31.3883 563.626 35.5 562C37.4468 561.214 39.2153 560.044 40.7 558.56C42.2031 557.04 43.3983 555.244 44.22 553.27C45.1013 551.109 45.54 548.793 45.51 546.46C45.5356 544.159 45.0968 541.877 44.22 539.75C43.3996 537.777 42.1965 535.986 40.68 534.48C37.5537 531.446 33.3565 529.768 29 529.81C26.8092 529.782 24.6345 530.187 22.6 531C20.6496 531.784 18.8775 532.954 17.39 534.44C15.8875 535.953 14.7041 537.751 13.91 539.73C13.0396 541.872 12.6077 544.168 12.64 546.48V546.53Z" fill="black"/><path d="M70.62 546.53C70.5921 542.906 71.2503 539.309 72.56 535.93C73.8 532.701 75.6696 529.75 78.06 527.25C80.4965 524.727 83.4231 522.73 86.66 521.38C90.1926 519.916 93.9865 519.188 97.81 519.24C101.175 519.176 104.517 519.803 107.63 521.08C110.343 522.228 112.849 523.812 115.05 525.77V501.88H127.15V572.17H116.79L116.05 566.17C114.99 567.276 113.828 568.281 112.58 569.17C111.264 570.114 109.853 570.919 108.37 571.57C106.799 572.266 105.165 572.809 103.49 573.19C101.692 573.598 99.8536 573.8 98.01 573.79C94.1763 573.837 90.373 573.105 86.83 571.64C83.5852 570.297 80.6461 568.31 78.19 565.8C75.7801 563.311 73.884 560.372 72.61 557.15C71.2671 553.772 70.5914 550.165 70.62 546.53V546.53ZM82.72 546.53C82.6921 548.855 83.1343 551.161 84.02 553.31C84.8142 555.285 85.9996 557.08 87.505 558.585C89.0104 560.09 90.8047 561.276 92.78 562.07C94.8241 562.889 97.0079 563.304 99.21 563.29C101.393 563.303 103.557 562.889 105.58 562.07C107.53 561.284 109.302 560.115 110.79 558.63C112.293 557.112 113.486 555.315 114.3 553.34C115.189 551.181 115.632 548.865 115.6 546.53C115.627 544.228 115.185 541.945 114.3 539.82C113.487 537.845 112.287 536.053 110.77 534.55C107.652 531.513 103.462 529.828 99.11 529.86C96.9067 529.844 94.7217 530.262 92.68 531.09C90.7326 531.875 88.9639 533.045 87.48 534.53C85.9777 536.045 84.7914 537.843 83.99 539.82C83.1313 541.934 82.6997 544.198 82.72 546.48V546.53Z" fill="black"/><path d="M150.91 556.7C150.952 557.679 151.256 558.629 151.79 559.45C152.362 560.343 153.115 561.106 154 561.69C154.995 562.355 156.089 562.862 157.24 563.19C158.539 563.569 159.887 563.754 161.24 563.74C165.087 563.74 167.923 563.167 169.75 562.02C170.586 561.562 171.283 560.886 171.766 560.064C172.248 559.241 172.498 558.303 172.49 557.35C172.519 556.342 172.162 555.362 171.49 554.61C170.678 553.784 169.69 553.152 168.6 552.76C167.093 552.191 165.541 551.749 163.96 551.44C162.14 551.06 160.06 550.65 157.74 550.22C156.58 550.05 155.35 549.84 154.08 549.57C152.787 549.3 151.514 548.942 150.27 548.5C149.007 548.053 147.794 547.477 146.65 546.78C145.526 546.08 144.514 545.214 143.65 544.21C142.733 543.132 142.015 541.899 141.53 540.57C140.969 538.964 140.698 537.271 140.73 535.57C140.69 533.315 141.122 531.077 142 529C142.888 526.982 144.262 525.216 146 523.86C148.088 522.288 150.467 521.146 153 520.5C156.299 519.641 159.701 519.237 163.11 519.3C165.936 519.261 168.75 519.666 171.45 520.5C173.746 521.195 175.886 522.33 177.75 523.84C179.454 525.229 180.822 526.987 181.75 528.98C182.69 531.027 183.165 533.257 183.14 535.51H171.04C170.98 534.616 170.721 533.747 170.281 532.967C169.842 532.187 169.233 531.515 168.5 531C166.667 529.76 164.48 529.149 162.27 529.26C160.809 529.229 159.352 529.404 157.94 529.78C156.888 530.062 155.893 530.526 155 531.15C154.279 531.668 153.695 532.355 153.3 533.15C152.946 533.872 152.761 534.666 152.76 535.47C152.733 536.315 152.994 537.143 153.5 537.82C154.107 538.528 154.88 539.074 155.75 539.41C156.966 539.914 158.234 540.283 159.53 540.51C161.063 540.81 162.857 541.077 164.91 541.31C167.397 541.71 169.853 542.2 172.28 542.78C174.552 543.298 176.735 544.147 178.76 545.3C180.612 546.359 182.183 547.848 183.34 549.64C184.578 551.733 185.182 554.14 185.08 556.57C185.145 559.196 184.546 561.796 183.34 564.13C182.163 566.298 180.47 568.143 178.41 569.5C176.067 571.022 173.469 572.109 170.74 572.71C167.461 573.464 164.104 573.826 160.74 573.79C157.485 573.854 154.245 573.339 151.17 572.27C148.672 571.376 146.365 570.019 144.37 568.27C142.642 566.749 141.258 564.878 140.31 562.78C139.439 560.85 138.983 558.758 138.97 556.64L150.91 556.7Z" fill="black"/><path d="M280.33 572.17H268.17V544.53C268.17 539.443 267.257 535.72 265.43 533.36C264.516 532.187 263.333 531.251 261.98 530.633C260.627 530.015 259.145 529.733 257.66 529.81C255.852 529.795 254.058 530.135 252.38 530.81C250.818 531.438 249.402 532.381 248.22 533.58C246.999 534.839 246.059 536.342 245.46 537.99C244.766 539.885 244.394 541.882 244.36 543.9V572.19H232.16V544.53C232.16 539.443 231.247 535.72 229.42 533.36C228.504 532.189 227.321 531.255 225.968 530.637C224.616 530.019 223.135 529.735 221.65 529.81C219.799 529.793 217.963 530.133 216.24 530.81C214.635 531.455 213.196 532.453 212.03 533.73C210.821 535.095 209.899 536.691 209.32 538.42C208.634 540.435 208.296 542.552 208.32 544.68V572.17H196.24V520.83H206.11L206.95 525.57C207.962 524.679 209.038 523.863 210.17 523.13C211.391 522.343 212.683 521.673 214.03 521.13C215.471 520.554 216.96 520.105 218.48 519.79C220.125 519.45 221.8 519.283 223.48 519.29C226.772 519.213 230.036 519.898 233.02 521.29C235.756 522.631 238.124 524.619 239.92 527.08C240.977 525.974 242.136 524.97 243.38 524.08C244.743 523.101 246.204 522.267 247.74 521.59C249.42 520.845 251.173 520.275 252.97 519.89C254.985 519.466 257.04 519.258 259.1 519.27C262.181 519.223 265.241 519.79 268.1 520.94C270.673 522.006 272.958 523.664 274.77 525.78C276.677 528.068 278.086 530.728 278.91 533.59C279.901 537.024 280.38 540.586 280.33 544.16V572.17Z" fill="black"/><path d="M292.08 546.53C292.058 542.892 292.769 539.287 294.17 535.93C295.526 532.681 297.518 529.737 300.03 527.27C302.602 524.761 305.639 522.777 308.97 521.43C312.561 519.975 316.405 519.247 320.28 519.29C324.177 519.247 328.044 519.974 331.66 521.43C335.013 522.77 338.07 524.754 340.66 527.27C343.211 529.784 345.233 532.783 346.607 536.091C347.981 539.399 348.679 542.948 348.66 546.53C348.666 547.198 348.632 547.866 348.56 548.53C348.49 549.03 348.43 549.53 348.36 549.98H304C304.723 553.93 306.855 557.483 310 559.98C311.474 561.16 313.133 562.089 314.91 562.73C316.681 563.381 318.553 563.719 320.44 563.73C323.208 563.783 325.94 563.092 328.35 561.73C330.545 560.503 332.359 558.693 333.59 556.5H346.69C345.795 558.841 344.551 561.032 343 563C341.367 565.111 339.429 566.968 337.25 568.51C334.914 570.153 332.346 571.437 329.63 572.32C322.867 574.449 315.578 574.194 308.98 571.6C305.647 570.256 302.61 568.272 300.04 565.76C297.531 563.303 295.539 560.368 294.18 557.13C292.769 553.775 292.055 550.169 292.08 546.53ZM320.38 529C318.438 528.978 316.507 529.289 314.67 529.92C312.978 530.51 311.396 531.379 309.99 532.49C308.61 533.588 307.424 534.91 306.48 536.4C305.503 537.941 304.78 539.629 304.34 541.4H335.87C335.422 539.638 334.714 537.953 333.77 536.4C332.864 534.921 331.722 533.601 330.39 532.49C329.044 531.383 327.519 530.514 325.88 529.92C324.116 529.289 322.253 528.977 320.38 529Z" fill="black"/></svg>'} />
					<TouchableOpacity style={{marginTop:40}} onPress={() => this.props.navigation.navigate('Login', {ismerchant:false})}>
						<View style={styles.button}>
							<Text style={[styles.text,styles.white,styles.upper]}>Пользователь</Text>
						</View>
					</TouchableOpacity>
					<TouchableOpacity style={{marginTop:10,marginBottom:40}} onPress={() => this.props.navigation.navigate('Login', {ismerchant:true})}>
						<View style={styles.button}>
							<Text style={[styles.text,styles.white,styles.upper]}>Партнер</Text>
						</View>
					</TouchableOpacity>
					<TouchableOpacity onPress={() => this.startShow()}>
						<Text style={[styles.text,styles.small,styles.grey]}>Посмотреть презентацию</Text>
					</TouchableOpacity>
				</View>
				<Text style={[styles.text,styles.grey,styles.mini,s.info]}>
					версия {API.version}
					{'\r\n'}
					{this.state.deviceId}
				</Text>
			</View>
		}
}

const s = StyleSheet.create({
	container: {
		flex:1,
		width:'100%',
		alignItems:'center',
		justifyContent:'center'
	},
	info: {
		position:'absolute',
		width:'100%',
		bottom:4,
		textAlign:'center',
		color:'#ccc'
	},
	icon: {
		width:250,
		height:250,
		marginVertical:32
	}
})