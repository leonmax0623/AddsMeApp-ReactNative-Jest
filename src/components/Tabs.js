import React from 'react';
import {
  View,
  Text,
  TouchableOpacity,
  StyleSheet,
  Dimensions,
} from 'react-native';

// plug-ins
import {SvgXml} from 'react-native-svg';

// icons
const icons = {
  logo:
    '<svg viewBox="0 0 349 574"><path d="M176.54 0C86.4799 0 13.21 73.38 13.21 163.58C13.21 193.12 20.82 224.48 35.83 256.79C47.68 282.29 64.16 308.48 84.83 334.61C119.83 378.91 154.36 407.45 155.83 408.61C161.753 413.237 169.054 415.751 176.57 415.751C184.086 415.751 191.387 413.237 197.31 408.61C198.76 407.42 245.8 361.79 280.82 317.49L266.33 305.49C232.55 348.29 185.74 393.77 185.4 394.04C182.835 395.908 179.743 396.914 176.57 396.914C173.397 396.914 170.305 395.908 167.74 394.04C166.36 392.94 32 281.18 32 163.54C32 83.72 96.85 18.77 176.55 18.77C256.25 18.77 321.1 83.77 321.1 163.54L321.02 164.68C321.02 211.84 307.8 238.89 286.17 238.89C274.31 238.89 254.11 231.89 254.11 212.35V79.92H231.41V115.22C217.11 91.81 192.34 78.53 162.35 78.53C112.81 78.53 75.83 115.91 75.83 168.34C75.83 221.08 112.83 258.8 162.35 258.8C193.04 258.8 218.16 244.8 232.11 220.74C233.52 244.83 259.29 258.8 281.97 258.8C317.9 258.8 339.87 223.87 339.87 164.47V163.54C339.87 73.34 266.6 0 176.54 0ZM165.54 238.59C126.82 238.59 98.91 210.28 98.91 168.38C98.91 126.48 126.82 98.85 165.54 98.85C203.22 98.85 231.82 126.1 231.82 168.38C231.77 211 203.17 238.55 165.49 238.55L165.54 238.59Z" fill="#C1272D"/></svg>',
  chat:
    '<svg viewBox="0 0 24 24"><path d="M 12 2 C 6.4889971 2 2 6.4889971 2 12 C 2 17.511003 6.4889971 22 12 22 C 17.511003 22 22 17.511003 22 12 C 22 6.4889971 17.511003 2 12 2 z M 12 4 C 12.339469 4 12.671853 4.0276556 13 4.0683594 L 13 5.0078125 L 9.9921875 5.03125 C 9.4431875 5.03525 9 5.48225 9 6.03125 L 9 8 L 8 8 C 7.448 8 7 8.447 7 9 L 7 10.185547 L 4.9746094 8.1601562 C 6.3301094 5.6778228 8.9630577 4 12 4 z M 15 4.5839844 C 17.935098 5.7673596 20 8.6326468 20 12 C 20 13.535888 19.563612 14.963507 18.818359 16.179688 C 18.504078 15.486169 17.809779 15 17 15 L 16 15 L 16 13 C 16 12.447 15.552 12 15 12 L 9 12 L 9 10 L 10 10 C 10.552 10 11 9.553 11 9 L 11 7.0234375 L 13.015625 7.0078125 C 14.109625 7.0008125 15 6.1028125 15 5.0078125 L 15 4.5839844 z M 4.2050781 10.21875 L 9 15.013672 L 9 16 C 9 17.103 9.897 18 11 18 L 11 19.931641 C 7.0457719 19.441154 4 16.090654 4 12 C 4 11.386323 4.0752771 10.792211 4.2050781 10.21875 z M 10.779297 14 L 14 14 L 14 16 C 14 16.553 14.448 17 15 17 L 17 17 L 17 18.248047 C 15.876599 19.14719 14.50453 19.745017 13 19.931641 L 13 17 C 13 16.447 12.552 16 12 16 L 11 16 L 11 14.599609 C 11 14.377758 10.91261 14.173249 10.779297 14 z"></path></svg>',
  message:
    '<svg viewBox="0 0 16 16"><path d="M 2.5 2 C 1.675781 2 1 2.675781 1 3.5 L 1 11.5 C 1 12.324219 1.675781 13 2.5 13 L 4 13 L 4 15.433594 L 7.652344 13 L 12.5 13 C 13.324219 13 14 12.324219 14 11.5 L 14 3.5 C 14 2.675781 13.324219 2 12.5 2 Z M 2.5 3 L 12.5 3 C 12.78125 3 13 3.21875 13 3.5 L 13 11.5 C 13 11.78125 12.78125 12 12.5 12 L 7.347656 12 L 5 13.566406 L 5 12 L 2.5 12 C 2.21875 12 2 11.78125 2 11.5 L 2 3.5 C 2 3.21875 2.21875 3 2.5 3 Z"></path></svg>',
  ads:
    '<svg viewBox="0 0 16 16"><path d="M 8 1 C 5.246094 1 3 3.246094 3 6 C 3 6.773438 3.316406 7.621094 3.753906 8.515625 C 4.191406 9.414063 4.761719 10.351563 5.335938 11.207031 C 6.476563 12.921875 7.613281 14.316406 7.613281 14.316406 L 8 14.792969 L 8.386719 14.316406 C 8.386719 14.316406 9.523438 12.921875 10.667969 11.207031 C 11.238281 10.351563 11.808594 9.414063 12.246094 8.515625 C 12.683594 7.621094 13 6.773438 13 6 C 13 3.246094 10.753906 1 8 1 Z M 8 2 C 10.214844 2 12 3.785156 12 6 C 12 6.46875 11.753906 7.246094 11.347656 8.078125 C 10.941406 8.914063 10.386719 9.820313 9.835938 10.65625 C 8.917969 12.03125 8.292969 12.789063 8 13.15625 C 7.707031 12.789063 7.082031 12.03125 6.164063 10.65625 C 5.613281 9.820313 5.058594 8.914063 4.652344 8.078125 C 4.246094 7.246094 4 6.46875 4 6 C 4 3.785156 5.785156 2 8 2 Z M 8 5 C 7.449219 5 7 5.449219 7 6 C 7 6.550781 7.449219 7 8 7 C 8.550781 7 9 6.550781 9 6 C 9 5.449219 8.550781 5 8 5 Z"></path></svg>',
  contacts:
    '<svg viewBox="0 0 16 16"><path d="M 8 2 C 6.347656 2 5 3.347656 5 5 C 5 6.652344 6.347656 8 8 8 C 9.652344 8 11 6.652344 11 5 C 11 3.347656 9.652344 2 8 2 Z M 8 8 C 5.246094 8 3 10.246094 3 13 L 4 13 C 4 10.785156 5.785156 9 8 9 C 10.214844 9 12 10.785156 12 13 L 13 13 C 13 10.246094 10.753906 8 8 8 Z M 8 3 C 9.109375 3 10 3.890625 10 5 C 10 6.109375 9.109375 7 8 7 C 6.890625 7 6 6.109375 6 5 C 6 3.890625 6.890625 3 8 3 Z"></path></svg>',
  menu:
    '<svg viewBox="0 0 32 32"><path d="M 13.1875 3 L 13.03125 3.8125 L 12.4375 6.78125 C 11.484375 7.15625 10.625 7.683594 9.84375 8.3125 L 6.9375 7.3125 L 6.15625 7.0625 L 5.75 7.78125 L 3.75 11.21875 L 3.34375 11.9375 L 3.9375 12.46875 L 6.1875 14.4375 C 6.105469 14.949219 6 15.460938 6 16 C 6 16.539063 6.105469 17.050781 6.1875 17.5625 L 3.9375 19.53125 L 3.34375 20.0625 L 3.75 20.78125 L 5.75 24.21875 L 6.15625 24.9375 L 6.9375 24.6875 L 9.84375 23.6875 C 10.625 24.316406 11.484375 24.84375 12.4375 25.21875 L 13.03125 28.1875 L 13.1875 29 L 18.8125 29 L 18.96875 28.1875 L 19.5625 25.21875 C 20.515625 24.84375 21.375 24.316406 22.15625 23.6875 L 25.0625 24.6875 L 25.84375 24.9375 L 26.25 24.21875 L 28.25 20.78125 L 28.65625 20.0625 L 28.0625 19.53125 L 25.8125 17.5625 C 25.894531 17.050781 26 16.539063 26 16 C 26 15.460938 25.894531 14.949219 25.8125 14.4375 L 28.0625 12.46875 L 28.65625 11.9375 L 28.25 11.21875 L 26.25 7.78125 L 25.84375 7.0625 L 25.0625 7.3125 L 22.15625 8.3125 C 21.375 7.683594 20.515625 7.15625 19.5625 6.78125 L 18.96875 3.8125 L 18.8125 3 Z M 14.8125 5 L 17.1875 5 L 17.6875 7.59375 L 17.8125 8.1875 L 18.375 8.375 C 19.511719 8.730469 20.542969 9.332031 21.40625 10.125 L 21.84375 10.53125 L 22.40625 10.34375 L 24.9375 9.46875 L 26.125 11.5 L 24.125 13.28125 L 23.65625 13.65625 L 23.8125 14.25 C 23.941406 14.820313 24 15.402344 24 16 C 24 16.597656 23.941406 17.179688 23.8125 17.75 L 23.6875 18.34375 L 24.125 18.71875 L 26.125 20.5 L 24.9375 22.53125 L 22.40625 21.65625 L 21.84375 21.46875 L 21.40625 21.875 C 20.542969 22.667969 19.511719 23.269531 18.375 23.625 L 17.8125 23.8125 L 17.6875 24.40625 L 17.1875 27 L 14.8125 27 L 14.3125 24.40625 L 14.1875 23.8125 L 13.625 23.625 C 12.488281 23.269531 11.457031 22.667969 10.59375 21.875 L 10.15625 21.46875 L 9.59375 21.65625 L 7.0625 22.53125 L 5.875 20.5 L 7.875 18.71875 L 8.34375 18.34375 L 8.1875 17.75 C 8.058594 17.179688 8 16.597656 8 16 C 8 15.402344 8.058594 14.820313 8.1875 14.25 L 8.34375 13.65625 L 7.875 13.28125 L 5.875 11.5 L 7.0625 9.46875 L 9.59375 10.34375 L 10.15625 10.53125 L 10.59375 10.125 C 11.457031 9.332031 12.488281 8.730469 13.625 8.375 L 14.1875 8.1875 L 14.3125 7.59375 Z M 16 11 C 13.25 11 11 13.25 11 16 C 11 18.75 13.25 21 16 21 C 18.75 21 21 18.75 21 16 C 21 13.25 18.75 11 16 11 Z M 16 13 C 17.667969 13 19 14.332031 19 16 C 19 17.667969 17.667969 19 16 19 C 14.332031 19 13 17.667969 13 16 C 13 14.332031 14.332031 13 16 13 Z"></path></svg>',
};

export default Tabs = (props) => {
  const {styles, page, navigation} = props;
  const grey = '#888',
    blue = '#007aff';
  const goto = (link) => navigation.navigate(link);
  return (
    <View style={s.container}>
      <TouchableOpacity style={s.tab} onPress={() => goto('Chat')}>
        <SvgXml
          style={s.icon}
          xml={icons.chat}
          fill={page === 'chat' ? blue : grey}
        />
        <Text
          style={[
            styles.text,
            styles.tabs,
            styles.bold,
            s.text,
            page === 'chat' ? styles.blue : styles.grey,
          ]}>
          Чат
        </Text>
      </TouchableOpacity>
      <TouchableOpacity style={s.tab} onPress={() => goto('Messages')}>
        <SvgXml
          style={s.icon}
          xml={icons.message}
          fill={page === 'messages' ? blue : grey}
        />
        <Text
          style={[
            styles.text,
            styles.tabs,
            styles.bold,
            s.text,
            page === 'messages' ? styles.blue : styles.grey,
          ]}>
          Сообщения
        </Text>
      </TouchableOpacity>
      <TouchableOpacity style={s.tab} onPress={() => goto('Ads')}>
        <SvgXml
          style={s.icon}
          xml={icons.logo}
          fill={page === 'ads' ? blue : grey}
        />
        <Text
          style={[
            styles.text,
            styles.tabs,
            styles.bold,
            s.text,
            page === 'ads' ? styles.blue : styles.grey,
          ]}>
          Предложения
        </Text>
      </TouchableOpacity>
      <TouchableOpacity style={s.tab} onPress={() => goto('Contacts')}>
        <SvgXml
          style={s.icon}
          xml={icons.contacts}
          fill={page === 'contacts' ? blue : grey}
        />
        <Text
          style={[
            styles.text,
            styles.tabs,
            styles.bold,
            s.text,
            page === 'contacts' ? styles.blue : styles.grey,
          ]}>
          Контакты
        </Text>
      </TouchableOpacity>
      <TouchableOpacity style={s.tab} onPress={() => goto('Settings')}>
        <SvgXml
          style={s.icon}
          xml={icons.menu}
          fill={page === 'settings' ? blue : grey}
        />
        <Text
          style={[
            styles.text,
            styles.tabs,
            styles.bold,
            s.text,
            page === 'settings' ? styles.blue : styles.grey,
          ]}>
          Настройки
        </Text>
      </TouchableOpacity>
    </View>
  );
};

const {width, height} = Dimensions.get('window');
const s = StyleSheet.create({
  container: {
    width: width,
    paddingTop: 10,
    paddingBottom: 4,
    justifyContent: 'space-between',
    alignItems: 'center',
    flexDirection: 'row',
    backgroundColor: '#f8f8f8',
  },
  tab: {
    width: '20%',
    alignItems: 'center',
  },
  text: {
    marginTop: 4,
  },
  icon: {
    width: 28,
    height: 28,
  },
});
